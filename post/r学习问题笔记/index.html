<!doctype html>
<html lang="en-us">
  <head>
    <title>R语言初学 // lyy个人博客</title>
    <link rel="shortcut icon" href="/5.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.63.2" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="lyy" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="/css/main.min.0fb49e70a30412f97ddfc418e18fefef1d9fcdebe45f634dbbba768b00fe1eec.css" />

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="R语言初学"/>
<meta name="twitter:description" content="简介： 学习目的：绘图；编程；找事情做，战胜空虚感！
RStudio界面分区：  控制台（Console）：用于执行R代码并显示运行结果； 编辑器（Source）：用于编写和保存R代码文件； 环境和历史记录（Environment and History）：用于管理R对象和历史命令； 图形设备（Plots）：用于显示基于R生成的图形输出。  基本配置： 设置工作路径：Crtl&#43;Shift&#43;H 或鼠标Session&gt;set……
设置主题：tools&gt;global options&gt;appearance
输出图片：纯英文图片，推荐使用pdf输出，常用（6：8）尺寸
导入预览数据集：Environment，有个Import Dataser 
package包： pacman::p_load(pacman, dplyr, GGally, ggplot2, ggthemes, ggvis, httr, lubridate, plotly, rio, rmarkdown, shiny, stringr, tidyr)#::不加载pacman而使用包里的函数 只需第一次安装，但以后每次用需要加载
pacman： 好用的包管理器：一次下载，加载多个包，不需要每个都用每次使用时都调用library()函数
  安装一个或多个包：
install.packages(&#34;pacman&#34;)p_install(&#34;ggplot2&#34;)p_install(&#34;dplyr&#34;, &#34;tidyverse&#34;)上述代码中，install.packages()函数是R原始的安装包函数，而p_install()是pacman包中的函数，用于安装指定的包。
  加载一个或多个包：
**library(pacman)p_load(&#34;ggplot2&#34;)p_load(c(&#34;dplyr&#34;, &#34;tidyverse&#34;))** #使用一个字符向量参数：通过将多个包名称整理成一个字符串向量参数来指定要卸载的包 #p_load两种写法，正常就是引用字符串 p_load()函数用于加载指定的包，可以一次性加载多个包，而不需要每次使用时都调用library()函数。
  卸载一个或多个包：
p_unload(&#34;ggplot2&#34;)p_unload(c(&#34;dplyr&#34;, &#34;tidyverse&#34;))p_uninstall(&#34;pacman&#34;)p_unload()用于卸载指定的包，在长时间使用多个包时可以释放内存。p_uninstall()函数是pacman中的函数，可以用来卸载指定的包。
  显示已经安装的包及其状态："/>

    <meta property="og:title" content="R语言初学" />
<meta property="og:description" content="简介： 学习目的：绘图；编程；找事情做，战胜空虚感！
RStudio界面分区：  控制台（Console）：用于执行R代码并显示运行结果； 编辑器（Source）：用于编写和保存R代码文件； 环境和历史记录（Environment and History）：用于管理R对象和历史命令； 图形设备（Plots）：用于显示基于R生成的图形输出。  基本配置： 设置工作路径：Crtl&#43;Shift&#43;H 或鼠标Session&gt;set……
设置主题：tools&gt;global options&gt;appearance
输出图片：纯英文图片，推荐使用pdf输出，常用（6：8）尺寸
导入预览数据集：Environment，有个Import Dataser 
package包： pacman::p_load(pacman, dplyr, GGally, ggplot2, ggthemes, ggvis, httr, lubridate, plotly, rio, rmarkdown, shiny, stringr, tidyr)#::不加载pacman而使用包里的函数 只需第一次安装，但以后每次用需要加载
pacman： 好用的包管理器：一次下载，加载多个包，不需要每个都用每次使用时都调用library()函数
  安装一个或多个包：
install.packages(&#34;pacman&#34;)p_install(&#34;ggplot2&#34;)p_install(&#34;dplyr&#34;, &#34;tidyverse&#34;)上述代码中，install.packages()函数是R原始的安装包函数，而p_install()是pacman包中的函数，用于安装指定的包。
  加载一个或多个包：
**library(pacman)p_load(&#34;ggplot2&#34;)p_load(c(&#34;dplyr&#34;, &#34;tidyverse&#34;))** #使用一个字符向量参数：通过将多个包名称整理成一个字符串向量参数来指定要卸载的包 #p_load两种写法，正常就是引用字符串 p_load()函数用于加载指定的包，可以一次性加载多个包，而不需要每次使用时都调用library()函数。
  卸载一个或多个包：
p_unload(&#34;ggplot2&#34;)p_unload(c(&#34;dplyr&#34;, &#34;tidyverse&#34;))p_uninstall(&#34;pacman&#34;)p_unload()用于卸载指定的包，在长时间使用多个包时可以释放内存。p_uninstall()函数是pacman中的函数，可以用来卸载指定的包。
  显示已经安装的包及其状态：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://chianyoung.github.io/post/r%E5%AD%A6%E4%B9%A0%E9%97%AE%E9%A2%98%E7%AC%94%E8%AE%B0/" />
<meta property="article:published_time" content="2023-05-27T12:06:42+08:00" />
<meta property="article:modified_time" content="2023-05-27T12:06:42+08:00" />


  </head>
  <body>
    <header class="app-header">
      <a href="https://chianyoung.github.io"><img class="app-header-avatar" src="/2.jpg" alt="lyy" /></a>
      <span class="app-header-title">lyy个人博客</span>
      <nav class="app-header-menu">
          <a class="app-header-menu-item" href="/">Home</a>
             - 
          
          <a class="app-header-menu-item" href="/tags/">Tags</a>
             - 
          
          <a class="app-header-menu-item" href="/about/">Me</a>
      </nav>
      <p>If you wanna change, be not afraid.</p>
      <div class="app-header-social">
        
          <a href="https://www.liuyuyang.art" target="_blank" rel="noreferrer noopener me">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github">
  <title>AI</title>
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
</svg>
          </a>
        
          <a href="https://www.douban.com/people/233502735/" target="_blank" rel="noreferrer noopener me">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-twitter">
  <title>Douban</title>
  <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>
</svg>
          </a>
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">R语言初学</h1>
      <div class="post-meta">
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          May 27, 2023
        </div>
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          3 min read
        </div>
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag">
  <title>tag</title>
  <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>
</svg>
              <a class="tag" href="https://chianyoung.github.io/tags/r/">R</a>
        </div>
      </div>
    </header>
    <div class="post-content">
      <h3 id="简介">简介：</h3>
<p>学习目的：绘图；编程；找事情做，战胜空虚感！</p>
<h4 id="rstudio界面分区">RStudio界面分区：</h4>
<ol>
<li>控制台（Console）：用于执行R代码并显示运行结果；</li>
<li>编辑器（Source）：用于编写和保存R代码文件；</li>
<li>环境和历史记录（Environment and History）：用于管理R对象和历史命令；</li>
<li>图形设备（Plots）：用于显示基于R生成的图形输出。</li>
</ol>
<h4 id="基本配置">基本配置：</h4>
<p>设置工作路径：<code>Crtl+Shift+H</code> 或鼠标Session&gt;set……</p>
<p>设置主题：tools&gt;global options&gt;appearance</p>
<p>输出图片：纯英文图片，推荐使用pdf输出，常用（6：8）尺寸</p>
<p>导入预览数据集：Environment，有个<code>Import Dataser </code></p>
<h5 id="package包">package包：</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-R" data-lang="R">pacman<span style="color:#f92672">::</span><span style="color:#a6e22e">p_load</span>(pacman, dplyr, GGally, ggplot2, ggthemes, ggvis, httr, lubridate, plotly, rio, rmarkdown, shiny,   stringr, tidyr)<span style="color:#75715e">#::不加载pacman而使用包里的函数</span>
</code></pre></div><p>只需第一次安装，但以后每次用需要加载</p>
<h5 id="pacman"><strong>pacman</strong>：</h5>
<p>好用的包管理器：一次下载，加载多个包，不需要每个都用每次使用时都调用library()函数</p>
<ol>
<li>
<p><strong>安装</strong>一个或多个包：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">install.packages</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">pacman&#34;</span>)
<span style="color:#a6e22e">p_install</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">ggplot2&#34;</span>)
<span style="color:#a6e22e">p_install</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">dplyr&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">tidyverse&#34;</span>)
</code></pre></div><p>上述代码中，<code>install.packages()</code>函数是R原始的安装包函数，而<code>p_install()</code>是<code>pacman</code>包中的函数，用于安装指定的包。</p>
</li>
<li>
<p><strong>加载</strong>一个或多个包：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#f92672">*</span><span style="color:#f92672">*</span><span style="color:#a6e22e">library</span>(pacman)
<span style="color:#a6e22e">p_load</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">ggplot2&#34;</span>)
<span style="color:#a6e22e">p_load</span>(<span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">dplyr&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">tidyverse&#34;</span>))<span style="color:#f92672">*</span><span style="color:#f92672">*</span> 
<span style="color:#75715e">#使用一个字符向量参数：通过将多个包名称整理成一个字符串向量参数来指定要卸载的包</span>
<span style="color:#75715e">#p_load两种写法，正常就是引用字符串</span>
</code></pre></div><p><code>p_load()</code>函数用于加载指定的包，可以一次性加载多个包，而不需要每次使用时都调用<code>library()</code>函数。</p>
</li>
<li>
<p>卸载一个或多个包：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">p_unload</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">ggplot2&#34;</span>)
<span style="color:#a6e22e">p_unload</span>(<span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">dplyr&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">tidyverse&#34;</span>))
<span style="color:#a6e22e">p_uninstall</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">pacman&#34;</span>)
</code></pre></div><p><code>p_unload()</code>用于卸载指定的包，在长时间使用多个包时可以释放内存。<code>p_uninstall()</code>函数是<code>pacman</code>中的函数，可以用来卸载指定的包。</p>
</li>
<li>
<p>显示已经安装的包及其状态：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">p_loaded</span>()
<span style="color:#a6e22e">p_isloaded</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">ggplot2&#34;</span>)
</code></pre></div><p><code>p_loaded()</code>函数返回已经加载到当前工作空间中的包的列表。<code>p_isloaded()</code>函数检查指定的包是否已经加载到工作空间中。</p>
<h4 id="快捷键">快捷键：</h4>
<p><code>alt + shift + k</code>  查看所有快捷键</p>
<p><code>ctrl + alt + R</code> 运行该脚本所有代码</p>
<p><code>ctrl + Enter</code> 运行当前鼠标所在行代码</p>
<p><code>Ctrl+Shift+N</code> 快速新建脚本</p>
<p><code>ctrl + shift + c</code> 多行注释</p>
<p><code>Alt+o</code> 代码折叠展开，函数或<code>Rmarkdown</code>写代码行时</p>
<pre><code></code></pre></li>
</ol>
<p>alt + -<code> 赋值</code>&lt;-</p>
<pre><code>
`F1` 帮助

`Shift+Ctrl+D`   粘贴复制代码

`Ctr + [向上箭头]`历史命令

`Ctrl + Shift + R`是创建可折叠注释

`Ctrl + Alt + X` 函数提取

`🧹` 清空内存

`Ctrl + Shift + s` 一键运行全部命令





### 初学问题总结：

1. `install.packages(&quot;xxx&quot;)`安装packages。`library()`加载。区分安装卸载和加载的区别。

2. `c()`函数构建向量（vector）,把数，字符串，逻辑值，列表，矩阵组合成一个向量或列表。

3. `$` 是一种访问数据框中列的简便方式。$ 符号后面可以跟上数据框中的列名，用于提取该列的数据。
如访问数据框df中的&quot;age&quot;列：

```R
df$age
</code></pre><ol start="4">
<li>
<p><code>length.out</code>是一个用于指定所需的输出长度的参数，基本用法<code>seq(from, to, length.out = n)</code></p>
</li>
<li>
<p><code>lines()</code>是用于添加直线、曲线或其他连续图形到已有图形上的函数。<code>lines(x, y = NULL, type = &quot;l&quot;, ...)</code></p>
</li>
<li>
<p><code>plot()</code>是一个用于绘制二维图形的基础函数。<code>plot(x, y, type = &quot;p&quot;, ...)</code>，<code>type</code>表示绘制的类型</p>
</li>
<li>
<p><code>mean = 0, sd = 1</code>是设置R语言中的正态分布随机数的参数，其作用是生成均值为0，标准差为1的正态分布随机数。</p>
</li>
<li>
<p><code>rnorm()</code>函数是用于生成服从正态分布或高斯分布的随机数的函数。</p>
</li>
<li>
<p><code>pacman</code>是一个R语言包管理器。</p>
</li>
<li>
<p>运行<code>p_installed()</code>函数时报错<code>could not find function &quot;p_installed&quot;</code>，可能是因为<code>pacman</code>包没有被加载。</p>
</li>
<li>
<p><code>ggplot2</code>是一个常用的用于数据可视化的R。方便美观。</p>
</li>
<li>
<p>运行：</p>
<ul>
<li>直接在R控制台中粘贴代码，</li>
<li>在RStudio中打开R脚本文件，<code>Ctrl+Shift+Enter</code>直接运行整个脚本；选中部分代码<code>Ctrl+Enter</code>运行选中代码</li>
<li>进入R所在的文件夹，使用<code>Rscript xxx.R</code>，独立运行。</li>
<li><code>source()</code>，可导入会话，交互。</li>
</ul>
</li>
<li>
<p><code>rm(list = ls())</code> 清空R环境中加载的所有对象和变量。删除一个名为<code>data</code>的数据集：<code>rm(data)</code></p>
</li>
<li>
<p><code>dev.off()</code>关闭绘图设备。</p>
</li>
<li>
<p><code>cat(&quot;\014&quot;)</code>命令用来在R的控制台中清屏，相当于执行Linux或Unix系统中的clear命令。<code>Ctrl + L</code></p>
</li>
<li>
<p><code>byrow</code>是R语言中一个逻辑（logical）变量，按照行填充。</p>
</li>
<li>
<p><code>cbind()</code>是R语言中的一个函数，用于按列合并两个或多个矩阵或向量。</p>
</li>
<li>
<p><code>as.data.frame()</code>函数可以将向量、矩阵、列表等对象转换为数据框（data.frame）。</p>
</li>
<li>
<p>data frame 和list的区别：数据框中每列的元素类型应该相同，有行名和列名。</p>
</li>
<li>
<p>可参考notion database理解</p>
</li>
<li>
<p>两个中括号<code>[[ ]]</code>来访问和操作列表中的元素</p>
</li>
<li>
<p>&ldquo;Least restrictive data type&quot;是用于存储一组数据的数据类型中，具备最小限制和最少限制的数据类型。通常用于数据存储和转换的场景中，例如在将不同类型的数据合并、转换或导入到存储和处理数据的系统中时，选择一个更少限制的数据类型可以更加灵活和高效地完成这些操作。</p>
</li>
<li>
<p>区别<code>(df0 &lt;- data.frame(x1, y)) 和 (df1 &lt;- cbind.data.frame(x1, y))</code></p>
</li>
<li>
<p><code>str()</code>函数输出数据框结构，“3 obs.”：表示这个数据框有3个观测值（即行数）。“2 variables”：表示这个数据框有2个变量（即列数）。</p>
</li>
<li>
<p><code>Factor()</code>函数用于将向量转换为因子（factor）类型，参数<code>levels</code>指定向量中可能出现的取值水平，参数<code>labels</code>指定针对每个水平的标签。，因子变量（factor variable）是一种特殊的离散变量，它的取值只能从一个预先定义好的有限集合里面选取。例如，某个变量的取值只能是 &ldquo;A&rdquo;、&ldquo;B&rdquo;、&ldquo;C&rdquo; 这三种情况，那么这个变量就是一个因子变量。（类似于notion label？select？？？）</p>
</li>
<li>
<p><code>labels</code> 是 <code>factor()</code> 函数中的一个参数，用于向因子变量的每个水平分配一个自定义标签。有对应的数值。</p>
</li>
<li>
<p>交互：程序与用户之间的动态互动过程，输入，反应，反馈输出。</p>
</li>
<li>
<p>强类型（Strong Typing）变量的类型是在运行时确定的，而不是在编译时确定的。在强类型语言中，不同类型的数据不能够直接进行运算或者组合。如果不同类型的数据被合并到一个向量中，那么这个向量中的元素类型就会变得混乱和模糊，这会导致一些取值或运算操作出现问题。为了保证向量的类型一致， <code>c()</code>函数要求创建的向量中的元素必须类型相同。</p>
</li>
<li>
<p><code>seq()</code>函数用于创建等差数列seq(from, to, by)</p>
</li>
<li>
<p><code>rep()</code>函数来创建一个重复的向量</p>
</li>
<li>
<p><code>paste()</code>函数用于将多个字符向量合并成一个字符向量。<code>paste(..., sep = &quot; &quot;, collapse = NULL)</code></p>
</li>
<li>
<p><code>runif()</code>随机数生成，<code>runif(n, min = 0, max = 1)</code></p>
</li>
<li>
<p>伪随机数：通过一个种子数（seed）来控制，<code>set.seed()</code>函数来设置种子数。</p>
</li>
<li>
<p><code>sum(x)</code>：求和
<code>mean(x)</code>：平均值
<code>var(x)</code>：方差</p>
</li>
<li>
<p>两个长度不相等的向量相加：短的重复</p>
</li>
<li>
<p><code>rowSums()</code>函数是用来计算矩阵或数据框中各行的元素之和的函数</p>
</li>
<li>
<p><code>cor()</code>是R语言内置的计算矩阵、向量或数据框相关系数的函数</p>
</li>
<li>
<p><code>character</code>类型的数据表示文本，即一些文字或字符串。</p>
</li>
<li>
<p><code>pheatmap()</code>函数绘制一个热图，pheatmap包</p>
</li>
<li>
<p>z-score标准化指的是将单个样本的每个基因或变量的数值减去该基因或变量在所有样本中的平均数，然后除以该基因或变量在所有样本中的标准差。这种方法可以将所有样本中的基因或变量数值转换为标准正态分布，使得在不同数据集之间的比较更加可靠。</p>
</li>
<li>
<p>中性化处理指的是从基因或变量的数值中去除对不同样本的影响，例如去除技术变异或批次效应。利用线性模型，利用批次、实验时间等可控制因素构建一个统计模型，并根据该模型中的参数将每个基因或变量的数值对样本中的影响进行调整，使得数据在多个数据集之间具有更好的可比性。</p>
</li>
<li>
<p><code>str</code>函数的全称是&quot;structure&rdquo;，打印出一个R对象的结构，类型、长度、结构和属性等。</p>
</li>
<li>
<p>数据框索引方法：
方括号[]：使用方括号运算符按列名、行序号或逻辑向量进行数据切片</p>
</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># 从数据框中选择&#34;col1&#34;和&#34;col2&#34;列</span>
df[, <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">col1&#34;</span>, <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">col2&#34;</span>)] 

<span style="color:#75715e"># 选择数据框第2、3、5行</span>
df<span style="color:#a6e22e">[c</span>(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">5</span>), ] 

<span style="color:#75715e"># 根据逻辑向量选择数据框中满足条件的数据</span>
df[df<span style="color:#f92672">$</span>col1 <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">2</span>, ]  
</code></pre></div><p>​		点（.）索引：按列名选择数据框的列（美元符（$）也可列名索引，不过返回向量，而不是数据框）<code>df$col1 </code></p>
<p>​		双重方括号[[]]：选元素或列：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e"># 选择第2个元素</span>
df[[2]] 

<span style="color:#75715e"># 选择名为&#34;col1&#34;的列</span>
df[[<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">col1&#34;</span>]] 
</code></pre></div><p>​		dplyr包函数：使用dplyr包中的函数（例如<code>select</code>和<code>filter</code>）和管道操作符（%&gt;%）进行列的选择和行的筛选等</p>
<ol start="44">
<li><code>na.rm</code>是一个常用的参数，用于在对数据进行各种操作（例如求均值、求和等）时忽略其中的缺失值NA。</li>
<li>箱线图（Boxplot）是一种可视化数据分布和异常值的常用方法。它显示了一组数据中的五个统计量：最小值、第一四分位数（Q1）、中位数、第三四分位数（Q3）和最大值。在箱线图中，箱体代表Q1和Q3之间的数据，中位数用一条线表示，上下两个线（也称为须）表示数据中的最大值和最小值。异常值则用点表示。通过箱线图，我们可以直观地看到数据的分布情况，识别任何异常值或离群值。</li>
<li><code>ggsci</code>是一个R包，提供了大量漂亮的调色板，可以方便地用于ggplot2绘图。<code>ggsci</code> 中，颜色并不是自动设置的。您需要使用相应的调色板来为您的图形设置颜色。调色板是一组预设颜色，可以根据数据类型和目的选择。</li>
<li><code>ggthemes</code> 提供了丰富的图形主题和颜色调色板；而 <code>ggsci</code> 则更专注于科学、卫生、医学领域的颜色调色板。</li>
<li>RStudio的批量命令 <code>Source</code> 功能来执行您输入的多条命令：<code>Ctrl + Shift + S</code>  或从菜单中选择<code>Code &gt; Source</code> 以使用 <code>Source</code> 功能。</li>
<li><code>ggpubr</code> 是一个非常有用的R包，它提供了许多用于绘制漂亮的数据可视化图形的函数，并基于 <code>ggplot2 </code> 构建了更高级的绘图工具，如接受方操作特征（ROC）、典型误差图和森林图等。</li>
<li>和弦图是一种常用的数据可视化工具，可以用来显示多个变量之间的关系。和弦图通常用于显示二元关系或关联性，即两个向量之间的交叉计数。</li>
<li>Rtools：在安装R包时，如果需要进行编译，就需要先安装Rtools，否则包安装会失败。</li>
<li><code>getwd()</code>函数来获取当前的工作路径</li>
<li><code>sep = &quot;\t&quot; </code>参数指定了输入文件使用什么字符作为数据分隔符，这里为制表符（Tab符号）。省略了分隔符参数，R默认使用空格作为数据分隔符。</li>
<li>hierarchical clustering：层次聚类。将相似的对象归类到同一个簇中。层次聚类方法主要有两种，分别是聚合聚类（Agglomerative Clustering）和分裂聚类（Divisive Clustering）。</li>
<li>分裂聚类则是从整体开始，逐渐将簇分成不同的子簇，直到每个簇只包含一个数据项。</li>
<li>层次聚类方法是一种自下而上的聚类方法，可以形成树形的聚类结构，因此又称为树形聚类（Hierarchical Clustering）。</li>
<li><code>&lt;-</code> 赋值；<code>= </code>新版也是赋值</li>
</ol>
<h3 id="绘图入门">绘图入门：</h3>
<h4 id="绘图常用参数">绘图常用参数</h4>
<p><code>plot()</code>函数是R语言中常用的绘图函数之一，提供了很多用于设置绘图参数的选项。下面列出了其中的一些常用参数：</p>
<ul>
<li><code>x, y</code>：绘图坐标轴的数据，可以使用向量、矩阵或数据框存储。</li>
<li><code>type</code>：图形类型，可以是以下类型之一：
<ul>
<li>&ldquo;p&rdquo;：散点图（默认值）</li>
<li>&ldquo;l&rdquo;：线图，将数据点用线连接起来</li>
<li>&ldquo;b&rdquo;：折线图，与“l”类似，但是连接点之间有折角</li>
<li>&ldquo;o&rdquo;：圆点线图，将数据点像“b”一样连接起来，但是点间用圆点连接</li>
<li>&ldquo;h&rdquo;：垂直线图（高度图），绘制垂线</li>
<li>&ldquo;s&rdquo;：阶梯线图，类似于折线图，但是连接点之间垂直线段是水平的</li>
<li>&ldquo;n&rdquo;：不显示任何数据点或轴线</li>
<li>&ldquo;c&rdquo;：只显示数据点标记，不绘制线段</li>
</ul>
</li>
<li><code>main</code>：绘图的主题（title）。</li>
<li><code>sub</code>：绘图的副标题（subtitle）。</li>
<li><code>xlab</code>：x轴的标签（label）。</li>
<li><code>ylab</code>：y轴的标签。</li>
<li><code>xlim</code>：x轴的范围，可以使用向量或标量来指定。</li>
<li><code>ylim</code>：y轴的范围，可以使用向量或标量来指定。</li>
<li><code>col</code>：数据点或线条的颜色。</li>
<li><code>pch</code>：数据点的标记类型（可以是数字或字符）。</li>
<li><code>lty</code>：线型，1表示实线，2表示虚线，3表示点划线等。</li>
<li><code>cex</code>：标记和标签的放缩比例（大小）。</li>
<li><code>font</code>：标签的字体风格，1表示普通，2表示粗体，3表示斜体，4表示粗斜体。</li>
<li><code>bg</code>：标记的背景颜色。</li>
<li><code>las</code>：轴线标签的方向，0表示水平放置，1表示旋转45度，2表示垂直放置，3表示旋转-45度。</li>
<li><code>bty</code>：绘制绘图框的类型。</li>
</ul>
<p>需要注意的是，上述参数仅为<code>plot()</code>函数可用的一部分，使用时需要根据需要设置对应的参数值。另外，可以使用<code>par()</code>函数和<code>plot()</code>函数的其他参数对绘图进行自定义设置和美化。</p>
<h4 id="常用绘图函数">常用绘图函数</h4>
<ol>
<li><code>plot()</code>函数：用于绘制二维图形，包括散点图、线图、折线图、柱状图等。</li>
<li><code>barplot()</code>函数：用于绘制柱状图，可单独或组合绘制多列数据。</li>
<li><code>boxplot()</code>函数：用于绘制箱线图，展示数据的五个统计量：最小值、上四分位数、中位数、下四分位数和最大值。</li>
<li><code>hist()</code>函数：用于绘制直方图，展示数据的频率分布情况。</li>
<li><code>pie()</code>函数：用于绘制饼图，展示数据占比和相对大小。</li>
<li><code>heatmap()</code>函数：用于绘制热图，展示数据的变化情况。</li>
<li><code>ggplot()</code>函数：用于创建高度自定义的图形，通过添加各种图层（layer）实现数据可视化。</li>
</ol>
<p>除了上述常用绘图函数之外，R语言还提供了许多其他的绘图函数，如曲线图的<code>curve()</code>函数、等高线图的<code>contour()</code>函数、地图的<code>map()</code>函数等等，可根据具体需求进行选择和使用。值得注意的是，学习和掌握数据可视化的基础技能对数据分析和数据科学应用非常重要。</p>
<h3 id="常用函数自学尝试">常用函数（自学尝试）</h3>
<p><code>c()</code>函数：concatenate它可以把一系列的数、字符、逻辑值或其他R对象（如列表、矩阵等）组合成一个向量或列表</p>
<p><code>density()</code> 计算概率密度估计值的函数，density()函数默认使用高斯核（Gaussian kernel）函数进行概率密度估计。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r">x <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">seq</span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">10</span>, length.out <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>)
den <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">density</span>(x)
<span style="color:#a6e22e">plot</span>(den)
<span style="color:#75715e"># length.out是一个用于指定所需的输出长度的参数,seq(from, to, length.out = n).</span>
</code></pre></div><p><code>rnorm()</code> 函数：生成服从正态分布或高斯分布的随机数的函数</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">rnorm</span>(n, mean <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, sd <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>) <span style="color:#75715e">#基本语法</span>
<span style="color:#75715e"># n表示随机数个数，mean表示期望（均值），sd表示标准差（方差的平方根）</span>
<span style="color:#75715e"># mean和sd参数可选，如果不指定，则默认值分别为0和1。</span>
</code></pre></div><p><code>hist（）</code> 直方图绘制</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">hist</span>(x<span style="color:#f92672">=</span>iris<span style="color:#f92672">$</span>Sepal.Width,breaks <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>,freq<span style="color:#f92672">=</span>F)
<span style="color:#75715e"># $访问数据框中列。$后面跟上数据框中的列名，用于提取该列的数据。</span>
<span style="color:#75715e"># x:要画图的数据</span>
<span style="color:#75715e"># breaks:数据分多少组</span>
<span style="color:#75715e"># freq:若为T（默认）则绘制频数分布直方图，为F则绘制频率分布直方图</span>
<span style="color:#75715e"># probability:默认为F，绘制频数分布直方图，为T绘制频率分布直方图</span>

<span style="color:#a6e22e">hist</span>(x<span style="color:#f92672">=</span>iris<span style="color:#f92672">$</span>Sepal.Width,breaks <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>,density <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>,angle <span style="color:#f92672">=</span> <span style="color:#ae81ff">45</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">red&#34;</span>,
border <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">blue&#34;</span>) <span style="color:#75715e">#添加阴影线</span>
<span style="color:#75715e"># density：阴影线密度</span>
<span style="color:#75715e"># angel：阴影线角度</span>
<span style="color:#75715e"># col:填充颜色</span>
<span style="color:#75715e"># border:直方图边缘颜色</span>

<span style="color:#a6e22e">hist</span>(x<span style="color:#f92672">=</span>iris<span style="color:#f92672">$</span>Sepal.Width,breaks <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>,main<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">直方图&#34;</span>,xlab<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">叶片宽度&#34;</span>,
ylab<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">频数&#34;</span>,xlim<span style="color:#f92672">=</span><span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">4.5</span>),ylim<span style="color:#f92672">=</span><span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">40</span>),labels<span style="color:#f92672">=</span>T) <span style="color:#75715e">#添加标题，坐标</span>
<span style="color:#75715e"># main, xlab, ylab :标题，x名称，y名称</span>
<span style="color:#75715e"># xlim, ylim :x轴，y轴范围</span>
<span style="color:#75715e"># axes：逻辑值，是否画坐标轴,默认画，F不画</span>
<span style="color:#75715e"># labels:是否添加标签，默认不加，T添加</span>

<span style="color:#a6e22e">help</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">hist&#34;</span>)
a <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">7</span>,<span style="color:#ae81ff">8</span>,<span style="color:#ae81ff">9</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">8</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">11</span>)
<span style="color:#a6e22e">hist</span>(a)
<span style="color:#a6e22e">hist</span>(a,breaks <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">9</span>,<span style="color:#ae81ff">12</span>)) <span style="color:#75715e">#设置不同的分组方式</span>
<span style="color:#a6e22e">hist</span>(a,breaks <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>)
<span style="color:#a6e22e">hist</span>(a,right <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>) <span style="color:#75715e">#区间左闭右开</span>
<span style="color:#a6e22e">hist</span>(a,right <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>) <span style="color:#75715e">#区间左开右闭</span>
<span style="color:#a6e22e">hist</span>(a,density <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>) <span style="color:#75715e">#控制斜线填充</span>
<span style="color:#a6e22e">hist</span>(a,density <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>,angle <span style="color:#f92672">=</span> <span style="color:#ae81ff">70</span>) <span style="color:#75715e">#控制斜线的角度</span>
<span style="color:#a6e22e">hist</span>(a,col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">green&#34;</span>) <span style="color:#75715e">#控制斜线的颜色</span>
<span style="color:#a6e22e">hist</span>(a,density <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>,col<span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">green&#34;</span>) <span style="color:#75715e">#此时控制斜线颜色</span>
<span style="color:#a6e22e">hist</span>(a,border <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">red&#34;</span>) <span style="color:#75715e">#边框为红色</span>
<span style="color:#a6e22e">hist</span>(a,plot <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>) <span style="color:#75715e">#返回列表</span>
<span style="color:#a6e22e">hist</span>(a,breaks <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">9</span>,<span style="color:#ae81ff">12</span>),labels <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">a&#34;</span>,<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">b&#34;</span>,<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">c&#34;</span>,<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">d&#34;</span>)) <span style="color:#75715e">#标签</span>
</code></pre></div><p><code>lines()</code> 添加直线曲线到已有图形</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">lines</span>(x, y <span style="color:#f92672">=</span> <span style="color:#66d9ef">NULL</span>, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">l&#34;</span>, <span style="color:#66d9ef">...</span>) <span style="color:#75715e">#基本语法</span>
<span style="color:#75715e"># x和y分别表示要添加的直线或曲线的横纵坐标值，type表示线段类型，可取值**：**“l”（直线）, “b”（折线）, </span>
<span style="color:#75715e"># “o”（圆点相连的折线）, “p”（描点折线）, “s”（阶梯线）, “h”（竖线）, 或 “n”（不绘制）</span>

x <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">seq</span>(<span style="color:#f92672">-</span><span style="color:#66d9ef">pi</span>, <span style="color:#66d9ef">pi</span>, length.out <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>)
y.sin <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">sin</span>(x)
y.cos <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">cos</span>(x)
<span style="color:#a6e22e">plot</span>(x, y.sin, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">l&#34;</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">red&#34;</span>)
<span style="color:#a6e22e">lines</span>(x, y.cos, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">l&#34;</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">blue&#34;</span>)
<span style="color:#75715e"># 将一条正弦曲线和一条余弦曲线绘制在同一幅图上</span>
</code></pre></div><p><code>plot()</code> 函数</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">plot</span>(x, y, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">p&#34;</span>, <span style="color:#66d9ef">...</span>) <span style="color:#75715e">#基本语法</span>

<span style="color:#a6e22e">set.seed</span>(<span style="color:#ae81ff">123</span>) <span style="color:#75715e">#set.seed(123)函数设置种子，以保证每次运行生成的随机数序列相同</span>
x <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rnorm</span>(<span style="color:#ae81ff">100</span>, mean <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, sd <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>) <span style="color:#75715e">#rnorm()函数生成100个均值为0，标准差为1的随机数，保存在变量x中</span>
y <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">rnorm</span>(<span style="color:#ae81ff">100</span>, mean <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, sd <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>) <span style="color:#75715e">#rnorm()函数生成100个均值为0，标准差为1的随机数，保存在变量y中</span>
<span style="color:#a6e22e">plot</span>(x, y, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">p&#34;</span>)
<span style="color:#75715e">#生成一组随机数并将它们绘制为散点图</span>

x <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">seq</span>(<span style="color:#f92672">-</span><span style="color:#66d9ef">pi</span>, <span style="color:#66d9ef">pi</span>, length.out <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>)
y <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">sin</span>(x)
<span style="color:#a6e22e">plot</span>(x, y, type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">l&#34;</span>)
<span style="color:#75715e">#从x=−π到x=π的正弦曲线</span>

hh<span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">hist</span>(x<span style="color:#f92672">=</span>data<span style="color:#f92672">$</span>Sepal.Width,breaks <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>,plot<span style="color:#f92672">=</span>F) <span style="color:#75715e">#hh展示的是直方图的相关值</span>
<span style="color:#a6e22e">plot</span>(hh,col<span style="color:#f92672">=</span><span style="color:#a6e22e">rgb</span>(<span style="color:#ae81ff">0.7</span>,<span style="color:#ae81ff">0.2</span>,<span style="color:#ae81ff">0.2</span>,alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>),border <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">white&#34;</span>,main<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">直方图&#34;</span>,xlab<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">叶片宽度&#34;</span>,ylab<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">频数&#34;</span>,
xlim<span style="color:#f92672">=</span><span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">4.5</span>),ylim<span style="color:#f92672">=</span><span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">40</span>),labels<span style="color:#f92672">=</span>T,) <span style="color:#75715e"># plot函数可以接着绘制</span>
<span style="color:#a6e22e">lines</span>(<span style="color:#a6e22e">density</span>(data<span style="color:#f92672">$</span>Sepal.Width),lwd<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>,col<span style="color:#f92672">=</span><span style="color:#a6e22e">rgb</span>(<span style="color:#ae81ff">0.1</span>,<span style="color:#ae81ff">0.5</span>,<span style="color:#ae81ff">0.2</span>)) <span style="color:#75715e">#再添加密度曲线</span>
</code></pre></div><blockquote>
<p>参考：zhihu, ChatGPT, bilibili, CSDN, Blog&hellip;&hellip;</p>
</blockquote>

    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
